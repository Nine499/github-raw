# GitHub Raw ä»£ç†æœåŠ¡

![Version](https://img.shields.io/badge/version-2026.01.24-blue)
![Node](https://img.shields.io/badge/node-%3E%3D24.0.0-green)
![License](https://img.shields.io/badge/license-MIT-yellow)
![Vercel](https://img.shields.io/badge/deploy%20with-vercel-000000.svg)

## ç®€å•ã€å¿«é€Ÿã€å®‰å…¨çš„ GitHub æ–‡ä»¶ä»£ç†æœåŠ¡

è¿™æ˜¯ä¸€ä¸ªåŸºäºŽ Vercel çš„ GitHub æ–‡ä»¶ä»£ç†æœåŠ¡ï¼Œä¸“é—¨ä¸ºæ–°æ‰‹è®¾è®¡ï¼Œä»£ç ç»“æž„æ¸…æ™°ã€æ³¨é‡Šè¯¦ç»†ã€‚

**å®ƒèƒ½åšä»€ä¹ˆï¼Ÿ**

æƒ³è±¡ä¸€ä¸‹ï¼Œä½ åœ¨ä¸­å›½è®¿é—® GitHub ä¸Šçš„æ–‡ä»¶ï¼Œé€Ÿåº¦å¯èƒ½å¾ˆæ…¢ã€‚è¿™ä¸ªæœåŠ¡å°±åƒä¸€ä¸ª"å¿«é€’ä¸­è½¬ç«™"ï¼š

1. ä½ å‘ä»£ç†æœåŠ¡è¯·æ±‚æ–‡ä»¶
2. ä»£ç†æœåŠ¡ä»Ž GitHub ä¸‹è½½æ–‡ä»¶
3. ä»£ç†æœåŠ¡å°†æ–‡ä»¶ç¼“å­˜èµ·æ¥ï¼ˆ5åˆ†é’Ÿå†…é‡å¤è®¿é—®ç›´æŽ¥è¿”å›žï¼‰
4. ä»£ç†æœåŠ¡æŠŠæ–‡ä»¶ç»™ä½ 

**æ ¸å¿ƒä¼˜åŠ¿ï¼š**

- ðŸš€ **æ™ºèƒ½ç¼“å­˜** - 5åˆ†é’Ÿå†…é‡å¤è®¿é—®ç§’é€Ÿå“åº”
- ðŸ”’ **å®‰å…¨å¯é ** - ä»¤ç‰ŒéªŒè¯ + é€Ÿåº¦é™åˆ¶ + è·¯å¾„å®‰å…¨æ£€æŸ¥
- ðŸ“ **æ–°æ‰‹å‹å¥½** - è¶…è¯¦ç»†æ³¨é‡Šï¼Œæ˜“äºŽç†è§£å’Œä¿®æ”¹
- ðŸ’° **é›¶æˆæœ¬** - éƒ¨ç½²åœ¨ Vercel å…è´¹é¢åº¦å†…
- ðŸŽ¯ **ç®€å•æ˜“ç”¨** - ä¸€ä¸ª URL å‚æ•°å³å¯è®¿é—®

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ðŸ” ä»¤ç‰ŒéªŒè¯

- åªæœ‰æŒæœ‰æ­£ç¡®ä»¤ç‰Œçš„ç”¨æˆ·æ‰èƒ½ä½¿ç”¨æœåŠ¡
- é˜²æ­¢æœåŠ¡è¢«æ»¥ç”¨

### âš¡ é€Ÿåº¦é™åˆ¶

- æ¯ç§’æœ€å¤š 10 æ¬¡è¯·æ±‚
- é˜²æ­¢æ¶æ„é«˜é¢‘è¯·æ±‚

### ðŸ’¾ æ™ºèƒ½ç¼“å­˜

- è‡ªåŠ¨ç¼“å­˜å·²ä¸‹è½½çš„æ–‡ä»¶
- 5åˆ†é’ŸåŽè‡ªåŠ¨è¿‡æœŸ
- æœ€å¤šç¼“å­˜ 100 ä¸ªæ–‡ä»¶
- LRU æ·˜æ±°ç­–ç•¥ï¼ˆç¼“å­˜æ»¡æ—¶åˆ é™¤æœ€æ—©çš„æ•°æ®ï¼‰

### ðŸ›¡ï¸ å®‰å…¨éªŒè¯

- è·¯å¾„æ ¼å¼éªŒè¯ï¼ˆé˜²æ­¢ç›®å½•éåŽ†æ”»å‡»ï¼‰
- æ–‡ä»¶ç±»åž‹ç™½åå•ï¼ˆåªå…è®¸å®‰å…¨ç±»åž‹ï¼‰
- è¶…æ—¶ä¿æŠ¤ï¼ˆ10ç§’è‡ªåŠ¨è¶…æ—¶ï¼‰

### ðŸ“Š å¥åº·æ£€æŸ¥

- è®¿é—® `/health` æŸ¥çœ‹æœåŠ¡çŠ¶æ€
- æ˜¾ç¤ºè¿è¡Œæ—¶é—´ã€ç¼“å­˜ä½¿ç”¨çŽ‡ã€é™æµé…ç½®

### ðŸ“ IP æ—¥å¿—è®°å½•

- è‡ªåŠ¨è®°å½•å®¢æˆ·ç«¯ IP åœ°å€
- æ”¯æŒå¤šç§ä»£ç†çŽ¯å¢ƒï¼ˆCloudflareã€Vercelã€Nginxï¼‰
- æ‰€æœ‰æ—¥å¿—åŒ…å«å®¢æˆ·ç«¯ IPï¼Œä¾¿äºŽè¿½è¸ªå’Œè°ƒè¯•

---

## ðŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 24.0.0
- npm æˆ– yarn
- Vercel è´¦å·ï¼ˆå…è´¹ï¼‰

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/Nine499/github-raw.git
cd github-raw
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®çŽ¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå‚è€ƒ `.env.example`ï¼‰ï¼š

```bash
# è®¿é—®ä»¤ç‰Œï¼ˆå¿…éœ€ï¼‰- ä½ è‡ªå·±è®¾ç½®çš„å¯†ç 
NINE49TOKEN=your-secret-token-here

# GitHub API ä»¤ç‰Œï¼ˆå¯é€‰ï¼‰- ç”¨äºŽæé«˜ GitHub API è¯·æ±‚é™åˆ¶
GITHUB49TOKEN=your-github-token-here

# è¿è¡ŒçŽ¯å¢ƒ
NODE_ENV=development
```

### 4. æœ¬åœ°å¼€å‘

```bash
npm run dev
```

æœåŠ¡å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

---

## ðŸ“š ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ç”¨æ³•

```text
https://ä½ çš„åŸŸå/owner/repo/branch/path?nine-token=ä½ çš„ä»¤ç‰Œ
```

### ç¤ºä¾‹ 1ï¼šèŽ·å– README æ–‡ä»¶

```text
https://your-domain.vercel.app/Nine499/github-raw/master/README.md?nine-token=abc123
```

### ç¤ºä¾‹ 2ï¼šèŽ·å–å›¾ç‰‡æ–‡ä»¶

```text
https://your-domain.vercel.app/vuejs/vue/master/logo.png?nine-token=abc123
```

### ç¤ºä¾‹ 3ï¼šèŽ·å–ä»£ç æ–‡ä»¶

```text
https://your-domain.vercel.app/facebook/react/main/package.json?nine-token=abc123
```

### å¥åº·æ£€æŸ¥

```text
https://your-domain.vercel.app/health
```

è¿”å›žç¤ºä¾‹ï¼š

```json
{
  "status": "ok",
  "uptime": "2å¤© 5å°æ—¶ 30åˆ†é’Ÿ 15ç§’",
  "timestamp": "2026-01-23T10:30:00.000Z",
   "version": "2026.01.24.100326",
  "cache": {
    "size": 45,
    "maxSize": 100,
    "usage": "45/100"
  },
  "rateLimit": {
    "maxRequests": 10,
    "windowMs": 1000
  },
  "environment": "production"
}
```

---

## ðŸŒ éƒ¨ç½²æŒ‡å—

### æ–¹å¼ä¸€ï¼šVercel CLIï¼ˆæŽ¨èï¼‰

```bash
# å®‰è£… Vercel CLI
npm i -g vercel

# ç™»å½•
vercel login

# éƒ¨ç½²
vercel

# éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒ
vercel --prod
```

### æ–¹å¼äºŒï¼šVercel ç½‘é¡µç‰ˆ

1. è®¿é—® [vercel.com](https://vercel.com)
2. ç‚¹å‡» "New Project"
3. å¯¼å…¥ä½ çš„ GitHub ä»“åº“
4. é…ç½®çŽ¯å¢ƒå˜é‡ï¼š
   - `NINE49TOKEN`: ä½ çš„è®¿é—®ä»¤ç‰Œ
   - `GITHUB49TOKEN`: GitHub API ä»¤ç‰Œï¼ˆå¯é€‰ï¼‰
5. ç‚¹å‡» "Deploy"

### é…ç½®è‡ªå®šä¹‰åŸŸå

1. åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ åŸŸå
2. æŒ‰ç…§æç¤ºé…ç½® DNS
3. ç­‰å¾… SSL è¯ä¹¦è‡ªåŠ¨ç”Ÿæˆ

---

## âš™ï¸ çŽ¯å¢ƒå˜é‡

| å˜é‡å          | å¿…éœ€ | è¯´æ˜Ž                          | ç¤ºä¾‹                          |
| --------------- | ---- | ----------------------------- | ----------------------------- |
| `NINE49TOKEN`   | âœ…   | è®¿é—®ä»¤ç‰Œï¼Œç”¨äºŽéªŒè¯ç”¨æˆ·èº«ä»½    | `my-secret-token-123`         |
| `GITHUB49TOKEN` | âŒ   | GitHub API ä»¤ç‰Œï¼Œæé«˜è¯·æ±‚é™åˆ¶ | `ghp_xxxxxxxxxxxx`            |
| `NODE_ENV`      | âŒ   | è¿è¡ŒçŽ¯å¢ƒ                      | `development` æˆ– `production` |

### å¦‚ä½•èŽ·å– GitHub Tokenï¼Ÿ

1. è®¿é—® [GitHub Settings â†’ Tokens](https://github.com/settings/tokens)
2. ç‚¹å‡» "Generate new token (classic)"
3. é€‰æ‹© `public_repo` æƒé™
4. å¤åˆ¶ç”Ÿæˆçš„ token

---

## ðŸ› ï¸ å¼€å‘å‘½ä»¤

```bash
# æœ¬åœ°å¼€å‘
npm run dev

# ä»£ç æ£€æŸ¥
npm run lint

# è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜
npm run lint:fix

# éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒ
npm run deploy

# æŸ¥çœ‹æ—¥å¿—
npm run logs
```

## ðŸ§ª æµ‹è¯•

é¡¹ç›®å†…ç½®å®Œæ•´æµ‹è¯•å¥—ä»¶ï¼Œè¦†ç›–æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ã€‚

è¿è¡Œæµ‹è¯•ï¼š
```bash
# åˆ›å»ºä¸´æ—¶æµ‹è¯•æ–‡ä»¶
cat > test-all.js << 'EOF'
import { RateLimiter, SimpleCache, validateToken, validatePath, sanitizePath, validateFileType, getClientIP } from "./api/github-raw.js";
// ... æµ‹è¯•ä»£ç  ...
EOF

# è¿è¡Œæµ‹è¯•
node test-all.js

# æ¸…ç†æµ‹è¯•æ–‡ä»¶
rm test-all.js
```

æµ‹è¯•è¦†ç›–ï¼š
- âœ… getClientIP å‡½æ•°ï¼ˆ4 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- âœ… validateToken å‡½æ•°ï¼ˆ4 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- âœ… validatePath å‡½æ•°ï¼ˆ8 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- âœ… sanitizePath å‡½æ•°ï¼ˆ6 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- âœ… validateFileType å‡½æ•°ï¼ˆ8 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- âœ… SimpleCache ç±»ï¼ˆ7 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- âœ… RateLimiter ç±»ï¼ˆ5 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰

æ€»è®¡ï¼š42 ä¸ªæµ‹è¯•ç”¨ä¾‹

---

## ðŸ“ é¡¹ç›®ç»“æž„

```text
github-raw/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ github-raw.js      # ä¸»ç¨‹åºæ–‡ä»¶ï¼ˆçº¦ 480 è¡Œï¼‰
â”œâ”€â”€ .env.example           # çŽ¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore             # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ eslint.config.js       # ESLint é…ç½®
â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®
â”œâ”€â”€ vercel.json            # Vercel éƒ¨ç½²é…ç½®
â”œâ”€â”€ AGENTS.md              # Agent å¼€å‘æŒ‡å—
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜Žæ–‡æ¡£
```

### ä»£ç ç»“æž„ï¼ˆ7 ä¸ªéƒ¨åˆ†ï¼‰

1. **åŸºç¡€é…ç½®** - æ‰€æœ‰å¸¸é‡å’Œé…ç½®é¡¹
2. **å·¥å…·å‡½æ•°** - çº¯å‡½æ•°ï¼Œæ— å‰¯ä½œç”¨
3. **æ ¸å¿ƒç±»** - SimpleCache å’Œ RateLimiter
4. **GitHub API è°ƒç”¨** - fetchFromGitHub å‡½æ•°
5. **å“åº”å¤„ç†** - è¾…åŠ©å‡½æ•°
6. **ä¸»å¤„ç†å‡½æ•°** - handler å‡½æ•°ï¼ˆå…¥å£ï¼‰
7. **å¯¼å‡º** - æµ‹è¯•ç”¨çš„å¯¼å‡º

---

## â“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆéœ€è¦ä»¤ç‰Œï¼Ÿ

A: é˜²æ­¢æœåŠ¡è¢«æ»¥ç”¨ã€‚ä½ å¯ä»¥è®¾ç½®è‡ªå·±çš„ä»¤ç‰Œï¼Œåªè®©çŸ¥é“ä»¤ç‰Œçš„äººä½¿ç”¨ã€‚

### Q: ç¼“å­˜ä¼šå ç”¨å¤šå°‘å†…å­˜ï¼Ÿ

A: æœ€å¤šç¼“å­˜ 100 ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶ 5 åˆ†é’ŸåŽè‡ªåŠ¨è¿‡æœŸã€‚å†…å­˜å ç”¨é€šå¸¸åœ¨ 10-50MB ä¹‹é—´ã€‚

### Q: æ”¯æŒå“ªäº›æ–‡ä»¶ç±»åž‹ï¼Ÿ

A: æ”¯æŒæ‰€æœ‰å¸¸è§ç±»åž‹ï¼šæ–‡æœ¬ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€åº”ç”¨ç¨‹åºæ–‡ä»¶ç­‰ã€‚

### Q: éƒ¨ç½²åŽè®¿é—®å¾ˆæ…¢æ€Žä¹ˆåŠžï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š

1. æ˜¯å¦é…ç½®äº† GitHub Tokenï¼ˆå¯ä»¥æé«˜ API è¯·æ±‚é™åˆ¶ï¼‰
2. è¯·æ±‚æ˜¯å¦å‘½ä¸­ç¼“å­˜ï¼ˆæŸ¥çœ‹å“åº”å¤´ `X-Cache`ï¼‰
3. Vercel åœ°ç†ä½ç½®æ˜¯å¦åˆé€‚

### Q: å¯ä»¥ä¿®æ”¹ç¼“å­˜æ—¶é—´å—ï¼Ÿ

A: å¯ä»¥ã€‚ä¿®æ”¹ `api/github-raw.js` ä¸­çš„ `CACHE_TTL` å¸¸é‡ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚

### Q: å¦‚ä½•æé«˜é™æµé˜ˆå€¼ï¼Ÿ

A: ä¿®æ”¹ `api/github-raw.js` ä¸­çš„ `MAX_REQUESTS_PER_SECOND` å¸¸é‡ã€‚

---

## ðŸ”’ å®‰å…¨å»ºè®®

1. **ä¸è¦å°†ä»¤ç‰Œç¡¬ç¼–ç åœ¨ä»£ç ä¸­** - ä½¿ç”¨çŽ¯å¢ƒå˜é‡
2. **å®šæœŸæ›´æ¢ä»¤ç‰Œ** - å»ºè®®æ¯ä¸ªæœˆæ›´æ¢ä¸€æ¬¡
3. **ç›‘æŽ§è®¿é—®æ—¥å¿—** - ä½¿ç”¨ `npm run logs` æŸ¥çœ‹å¼‚å¸¸è¯·æ±‚
4. **é™åˆ¶ä»¤ç‰Œåˆ†å‘** - åªç»™ä¿¡ä»»çš„äººä½¿ç”¨ä»¤ç‰Œ
5. **ä½¿ç”¨ HTTPS** - Vercel è‡ªåŠ¨æä¾› SSL è¯ä¹¦

---

## ðŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿Žæäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æŽ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ 2 ç©ºæ ¼ç¼©è¿›
- ä½¿ç”¨åŒå¼•å·
- å¿…é¡»ä½¿ç”¨åˆ†å·
- è¿è¡Œ `npm run lint` æ£€æŸ¥ä»£ç 

---

## ðŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ðŸ™ è‡´è°¢

- [Vercel](https://vercel.com) - æä¾›å…è´¹çš„æ— æœåŠ¡å™¨éƒ¨ç½²å¹³å°
- [GitHub](https://github.com) - ä»£ç æ‰˜ç®¡å¹³å°

---

## ðŸ“ž è”ç³»æ–¹å¼

- ä½œè€…ï¼šNine499
- é¡¹ç›®åœ°å€ï¼š[https://github.com/Nine499/github-raw](https://github.com/Nine499/github-raw)
- é—®é¢˜åé¦ˆï¼š[Issues](https://github.com/Nine499/github-raw/issues)

---

**å¦‚æžœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼**

Made with â¤ï¸ by Nine499
